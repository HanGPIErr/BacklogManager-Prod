<Window x:Class="BacklogManager.Views.AnalyseDevIAWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:services="clr-namespace:BacklogManager.Services"
        Title="{Binding Source={x:Static services:LocalizationService.Instance}, Path=[DevAIAnalysis_WindowTitle], Mode=OneWay}" 
        Height="750" Width="900"
        WindowStartupLocation="CenterScreen" Background="#F5F5F5">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="White" Padding="25" BorderBrush="#E0E0E0" BorderThickness="0,0,0,1">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <Image Grid.Column="0" Source="/Images/agent-project-and-change.png" 
                       Width="50" Height="50" Margin="0,0,15,0" VerticalAlignment="Center"/>

                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                    <TextBlock x:Name="TxtAgentName" Text="Agent Project &amp; Change" 
                               FontSize="20" FontWeight="Bold" Foreground="#252423"/>
                    <TextBlock x:Name="TxtDevNom" Text="Analyse du dÃ©veloppeur" 
                               FontSize="13" Foreground="#666666" Margin="0,3,0,0"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Contenu -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" Padding="25">
            <StackPanel>
                <!-- PÃ©riode analysÃ©e -->
                <Border Background="White" CornerRadius="8" Padding="20" Margin="0,0,0,15">
                    <Border.Effect>
                        <DropShadowEffect BlurRadius="10" ShadowDepth="2" Opacity="0.1"/>
                    </Border.Effect>
                    <StackPanel>
                        <TextBlock x:Name="TxtAnalyzedPeriod" Text="ðŸ“… PÃ©riode AnalysÃ©e" FontSize="15" FontWeight="Bold" Foreground="#00915A" Margin="0,0,0,10"/>
                        <TextBlock x:Name="TxtPeriode" FontSize="13" Foreground="#666666" TextWrapping="Wrap"/>
                    </StackPanel>
                </Border>

                <!-- Score performance -->
                <Border Background="White" CornerRadius="8" Padding="20" Margin="0,0,0,15">
                    <Border.Effect>
                        <DropShadowEffect BlurRadius="10" ShadowDepth="2" Opacity="0.1"/>
                    </Border.Effect>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <Border Grid.Column="0" x:Name="BorderScore" Background="#4CAF50" 
                                Width="80" Height="80" CornerRadius="40" Margin="0,0,20,0">
                            <TextBlock x:Name="TxtScore" FontSize="32" FontWeight="Bold" 
                                       Foreground="White" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>

                        <StackPanel Grid.Column="1" VerticalAlignment="Center">
                            <TextBlock x:Name="TxtPerformanceScore" Text="Score de Performance" FontSize="16" FontWeight="Bold" Foreground="#252423"/>
                            <TextBlock x:Name="TxtScoreDescription" FontSize="13" Foreground="#666666" 
                                       TextWrapping="Wrap" Margin="0,5,0,0"/>
                        </StackPanel>
                    </Grid>
                </Border>

                <!-- Bilan gÃ©nÃ©ral -->
                <Border Background="White" CornerRadius="8" Padding="20" Margin="0,0,0,15">
                    <Border.Effect>
                        <DropShadowEffect BlurRadius="10" ShadowDepth="2" Opacity="0.1"/>
                    </Border.Effect>
                    <StackPanel>
                        <TextBlock x:Name="TxtGeneralOverview" Text="ðŸ“Š Bilan GÃ©nÃ©ral" FontSize="15" FontWeight="Bold" 
                                   Foreground="#00915A" Margin="0,0,0,10"/>
                        <TextBlock x:Name="TxtBilan" FontSize="13" Foreground="#444444" 
                                   TextWrapping="Wrap" LineHeight="22"/>
                    </StackPanel>
                </Border>

                <!-- Points forts -->
                <Border Background="White" CornerRadius="8" Padding="20" Margin="0,0,0,15">
                    <Border.Effect>
                        <DropShadowEffect BlurRadius="10" ShadowDepth="2" Opacity="0.1"/>
                    </Border.Effect>
                    <StackPanel>
                        <TextBlock x:Name="TxtStrengths" Text="ðŸ’ª Points Forts" FontSize="15" FontWeight="Bold" 
                                   Foreground="#4CAF50" Margin="0,0,0,10"/>
                        <TextBlock x:Name="TxtPointsForts" FontSize="13" Foreground="#444444" 
                                   TextWrapping="Wrap" LineHeight="22"/>
                    </StackPanel>
                </Border>

                <!-- Axes d'amÃ©lioration -->
                <Border Background="White" CornerRadius="8" Padding="20" Margin="0,0,0,15">
                    <Border.Effect>
                        <DropShadowEffect BlurRadius="10" ShadowDepth="2" Opacity="0.1"/>
                    </Border.Effect>
                    <StackPanel>
                        <TextBlock x:Name="TxtImprovementAreas" Text="ðŸŽ¯ Axes d'AmÃ©lioration" FontSize="15" FontWeight="Bold" 
                                   Foreground="#FF9800" Margin="0,0,0,10"/>
                        <TextBlock x:Name="TxtAmeliorations" FontSize="13" Foreground="#444444" 
                                   TextWrapping="Wrap" LineHeight="22"/>
                    </StackPanel>
                </Border>

                <!-- Recommandations -->
                <Border Background="White" CornerRadius="8" Padding="20" Margin="0,0,0,15">
                    <Border.Effect>
                        <DropShadowEffect BlurRadius="10" ShadowDepth="2" Opacity="0.1"/>
                    </Border.Effect>
                    <StackPanel>
                        <TextBlock x:Name="TxtRecommendations" Text="ðŸ’¡ Recommandations" FontSize="15" FontWeight="Bold" 
                                   Foreground="#667eea" Margin="0,0,0,10"/>
                        <TextBlock x:Name="TxtRecommandations" FontSize="13" Foreground="#444444" 
                                   TextWrapping="Wrap" LineHeight="22"/>
                    </StackPanel>
                </Border>

                <!-- Actions -->
                <Border Background="White" CornerRadius="8" Padding="20" Margin="0,0,0,0">
                    <Border.Effect>
                        <DropShadowEffect BlurRadius="10" ShadowDepth="2" Opacity="0.1"/>
                    </Border.Effect>
                    <StackPanel>
                        <TextBlock Text="ðŸš€ Plan d'Action" FontSize="15" FontWeight="Bold" 
                                   Foreground="#2196F3" Margin="0,0,0,10"/>
                        <TextBlock x:Name="TxtActions" FontSize="13" Foreground="#444444" 
                                   TextWrapping="Wrap" LineHeight="22"/>
                    </StackPanel>
                </Border>
            </StackPanel>
        </ScrollViewer>

        <!-- Overlay de chargement -->
        <Grid x:Name="LoadingOverlay" Grid.RowSpan="2" Background="#CC000000" Visibility="Visible">
            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                <TextBlock Text="ðŸ¤–" FontSize="48" HorizontalAlignment="Center" Margin="0,0,0,15">
                    <TextBlock.RenderTransform>
                        <RotateTransform x:Name="LoadingRotation" CenterX="24" CenterY="24"/>
                    </TextBlock.RenderTransform>
                    <TextBlock.Triggers>
                        <EventTrigger RoutedEvent="Loaded">
                            <BeginStoryboard>
                                <Storyboard RepeatBehavior="Forever">
                                    <DoubleAnimation Storyboard.TargetName="LoadingRotation"
                                                   Storyboard.TargetProperty="Angle"
                                                   From="0" To="360" Duration="0:0:2"/>
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                    </TextBlock.Triggers>
                </TextBlock>
                <TextBlock Text="Agent analyse la performance..." 
                          FontSize="16" Foreground="White" HorizontalAlignment="Center"/>
                <TextBlock Text="Cela peut prendre quelques instants..." 
                          FontSize="12" Foreground="#CCCCCC" HorizontalAlignment="Center" Margin="0,5,0,0"/>
            </StackPanel>
        </Grid>
    </Grid>
</Window>
