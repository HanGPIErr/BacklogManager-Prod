<Window x:Class="BacklogManager.Views.AdministrationWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="‚öôÔ∏è Administration - BNP Paribas Backlog Manager" 
        Height="700" Width="1100"
        WindowStartupLocation="CenterOwner"
        Background="#F5F5F5">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="White" CornerRadius="6" Padding="20" Margin="0,0,0,20">
            <Border.Effect>
                <DropShadowEffect BlurRadius="10" ShadowDepth="0" Opacity="0.15" Color="#00915A"/>
            </Border.Effect>
            <WrapPanel Orientation="Horizontal">
                <TextBlock Text="‚öôÔ∏è ADMINISTRATION" FontSize="24" FontWeight="Bold" Foreground="#1A1919" Margin="0,0,20,5"/>
                <TextBlock Text="Gestion des utilisateurs, r√¥les et param√®tres" FontSize="14" 
                           Foreground="#6D6D6D" VerticalAlignment="Bottom" Margin="0,0,0,8"/>
            </WrapPanel>
        </Border>

        <!-- Tabs Navigation avec Regroupement Logique -->
        <TabControl Grid.Row="1" Background="Transparent" BorderThickness="0">
            <TabControl.Resources>
                <Style TargetType="TabItem">
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="TabItem">
                                <Border Name="Border" Background="White" BorderBrush="#E0E0E0" 
                                        BorderThickness="1,1,1,0" CornerRadius="6,6,0,0" 
                                        Padding="20,12" Margin="0,0,5,0">
                                    <ContentPresenter x:Name="ContentSite"
                                                      VerticalAlignment="Center"
                                                      HorizontalAlignment="Center"
                                                      ContentSource="Header"/>
                                </Border>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsSelected" Value="True">
                                        <Setter TargetName="Border" Property="Background" Value="#00915A"/>
                                        <Setter Property="Foreground" Value="White"/>
                                        <Setter Property="FontWeight" Value="Bold"/>
                                    </Trigger>
                                    <Trigger Property="IsSelected" Value="False">
                                        <Setter Property="Foreground" Value="#6D6D6D"/>
                                    </Trigger>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter TargetName="Border" Property="Background" Value="#F0F0F0"/>
                                    </Trigger>
                                    <MultiTrigger>
                                        <MultiTrigger.Conditions>
                                            <Condition Property="IsMouseOver" Value="True"/>
                                            <Condition Property="IsSelected" Value="True"/>
                                        </MultiTrigger.Conditions>
                                        <Setter TargetName="Border" Property="Background" Value="#007A4D"/>
                                    </MultiTrigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </Style>
            </TabControl.Resources>

            <!-- Tab Utilisateurs & R√¥les (Regroupement logique) -->
            <TabItem Header="üë• Utilisateurs &amp; R√¥les">
                <Border Background="White" CornerRadius="0,6,6,6" Padding="20">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        
                        <!-- Sous-navigation -->
                        <WrapPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,15">
                            <Button x:Name="BtnSousOngletUtilisateurs" Content="üë• Utilisateurs" 
                                    Background="#00915A" Foreground="White" 
                                    FontSize="13" FontWeight="SemiBold" Padding="15,8"
                                    Margin="0,0,10,5" BorderThickness="0" Cursor="Hand"
                                    Click="BtnSousOngletUtilisateurs_Click"/>
                            <Button x:Name="BtnSousOngletRoles" Content="üé≠ R√¥les" 
                                    Background="#E0E0E0" Foreground="#6D6D6D" 
                                    FontSize="13" FontWeight="Normal" Padding="15,8"
                                    Margin="0,0,10,5" BorderThickness="0" Cursor="Hand"
                                    Click="BtnSousOngletRoles_Click"/>
                        </WrapPanel>
                        
                        <!-- Contenu dynamique -->
                        <Frame x:Name="FrameUtilisateursRoles" Grid.Row="1" NavigationUIVisibility="Hidden"/>
                    </Grid>
                </Border>
            </TabItem>

            <!-- Tab Projets & √âquipe (Regroupement logique) -->
            <TabItem Header="üìä Projets &amp; √âquipe">
                <Border Background="White" CornerRadius="0,6,6,6" Padding="20">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        
                        <!-- Sous-navigation -->
                        <WrapPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,15">
                            <Button x:Name="BtnSousOngletProjets" Content="üìä Projets" 
                                    Background="#00915A" Foreground="White" 
                                    FontSize="13" FontWeight="SemiBold" Padding="15,8"
                                    Margin="0,0,10,5" BorderThickness="0" Cursor="Hand"
                                    Click="BtnSousOngletProjets_Click"/>
                            <Button x:Name="BtnSousOngletEquipe" Content="üë• √âquipe" 
                                    Background="#E0E0E0" Foreground="#6D6D6D" 
                                    FontSize="13" FontWeight="Normal" Padding="15,8"
                                    Margin="0,0,10,5" BorderThickness="0" Cursor="Hand"
                                    Click="BtnSousOngletEquipe_Click"/>
                        </WrapPanel>
                        
                        <!-- Contenu dynamique -->
                        <Frame x:Name="FrameProjetsEquipe" Grid.Row="1" NavigationUIVisibility="Hidden"/>
                    </Grid>
                </Border>
            </TabItem>

            <!-- Tab Statistiques -->
            <TabItem Header="üìà Statistiques">
                <Border Background="White" CornerRadius="0,6,6,6" Padding="20">
                    <ScrollViewer VerticalScrollBarVisibility="Auto">
                        <StackPanel>
                            <TextBlock Text="üìà Statistiques du Backlog" FontSize="18" FontWeight="Bold" 
                                       Foreground="#1A1919" Margin="0,0,0,20"/>
                            
                            <TextBlock x:Name="TxtStatistiques" FontSize="13" TextWrapping="Wrap" 
                                       Foreground="#6D6D6D"/>
                        </StackPanel>
                    </ScrollViewer>
                </Border>
            </TabItem>

            <!-- Tab Audit Log -->
            <TabItem Header="üìú Journal d'Audit" x:Name="TabAuditLog">
                <Border Background="White" CornerRadius="0,6,6,6" Padding="20">
                    <StackPanel>
                        <TextBlock Text="üìú Journal d'Audit" FontSize="18" FontWeight="Bold" 
                                   Foreground="#1A1919" Margin="0,0,0,10"/>
                        <TextBlock Text="Consultez l'historique complet de toutes les actions effectu√©es dans l'application." 
                                   FontSize="13" Foreground="#6D6D6D" Margin="0,0,0,20" TextWrapping="Wrap"/>
                        
                        <Button x:Name="BtnOuvrirAuditLog" Content="üìú Ouvrir le Journal d'Audit" 
                                Background="#00915A" Foreground="White" 
                                FontSize="14" FontWeight="Bold" Padding="20,12"
                                Cursor="Hand" BorderThickness="0"
                                Click="BtnOuvrirAuditLog_Click">
                            <Button.Effect>
                                <DropShadowEffect BlurRadius="5" ShadowDepth="2" Opacity="0.3" Color="#00915A"/>
                            </Button.Effect>
                        </Button>

                        <Border Background="#F0F8F5" CornerRadius="5" Padding="15" Margin="0,20,0,0">
                            <StackPanel>
                                <TextBlock Text="‚ÑπÔ∏è Fonctionnalit√©s disponibles :" FontWeight="Bold" 
                                           Foreground="#00915A" Margin="0,0,0,10"/>
                                <TextBlock TextWrapping="Wrap" Foreground="#6D6D6D" Margin="0,0,0,5">
                                    ‚Ä¢ Historique complet de toutes les actions (cr√©ation, modification, suppression)
                                </TextBlock>
                                <TextBlock TextWrapping="Wrap" Foreground="#6D6D6D" Margin="0,0,0,5">
                                    ‚Ä¢ Filtrage par utilisateur, date et type d'action
                                </TextBlock>
                                <TextBlock TextWrapping="Wrap" Foreground="#6D6D6D" Margin="0,0,0,5">
                                    ‚Ä¢ D√©tails des modifications avec valeurs avant/apr√®s
                                </TextBlock>
                                <TextBlock TextWrapping="Wrap" Foreground="#6D6D6D">
                                    ‚Ä¢ Export en format CSV pour analyse externe
                                </TextBlock>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </Border>
            </TabItem>
        </TabControl>
    </Grid>
</Window>
