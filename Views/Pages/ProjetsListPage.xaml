<Page x:Class="BacklogManager.Views.Pages.ProjetsListPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Background="Transparent">
    
    <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="20">
        <ItemsControl x:Name="ProjetsItemsControl">
            <ItemsControl.ItemTemplate>
                <DataTemplate>
                    <Border Background="White" BorderBrush="#E0E0E0" BorderThickness="1" 
                            CornerRadius="8" Padding="20" Margin="0,0,0,12" Cursor="Hand">
                        <Border.Style>
                            <Style TargetType="Border">
                                <Style.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="BorderBrush" Value="#00915A"/>
                                        <Setter Property="Background" Value="#FAFAFA"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </Border.Style>
                        
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            
                            <!-- Icon -->
                            <Border Grid.Column="0" Background="#E3F2FD" CornerRadius="6" 
                                    Width="48" Height="48" Margin="0,0,15,0">
                                <TextBlock Text="ðŸ“" FontSize="24" 
                                           HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>
                            
                            <!-- Project Info -->
                            <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                <!-- Title -->
                                <TextBlock Text="{Binding Nom}" 
                                           FontWeight="SemiBold" FontSize="16" 
                                           Foreground="#1A1919" Margin="0,0,0,6"/>
                                
                                <!-- Description -->
                                <TextBlock Text="{Binding Description}" 
                                           FontSize="12" Foreground="#666" 
                                           TextWrapping="Wrap" Margin="0,0,0,6"/>
                                
                                <!-- Meta Info -->
                                <StackPanel Orientation="Horizontal">
                                    <!-- Date Creation -->
                                    <StackPanel Orientation="Horizontal" Margin="0,0,15,0">
                                        <TextBlock Text="ðŸ“…" FontSize="11" Foreground="#999" Margin="0,0,4,0"/>
                                        <TextBlock Text="{Binding DateCreation, StringFormat='dd/MM/yyyy'}" 
                                                   FontSize="11" Foreground="#666"/>
                                    </StackPanel>
                                    
                                    <!-- Status Badge -->
                                    <Border CornerRadius="4" Padding="8,3" Margin="0,0,6,0">
                                        <Border.Style>
                                            <Style TargetType="Border">
                                                <Setter Property="Background" Value="#E8F5E9"/>
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding Actif}" Value="False">
                                                        <Setter Property="Background" Value="#F5F5F5"/>
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Border.Style>
                                        <TextBlock FontSize="10" FontWeight="SemiBold">
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Foreground" Value="#2E7D32"/>
                                                    <Setter Property="Text" Value="âœ“ Actif"/>
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding Actif}" Value="False">
                                                            <Setter Property="Foreground" Value="#757575"/>
                                                            <Setter Property="Text" Value="âŠ— ArchivÃ©"/>
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>
                                    </Border>
                                </StackPanel>
                            </StackPanel>
                            
                            <!-- Actions Menu -->
                            <Button Grid.Column="2" Content="â‹®" FontSize="18" 
                                    Width="32" Height="32" Background="Transparent" 
                                    BorderThickness="0" Foreground="#999" Cursor="Hand"
                                    VerticalAlignment="Top" Tag="{Binding}"
                                    Click="BtnMenu_Click">
                                <Button.Style>
                                    <Style TargetType="Button">
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="Button">
                                                    <Border Background="{TemplateBinding Background}" 
                                                            CornerRadius="6" Padding="{TemplateBinding Padding}">
                                                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                    </Border>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                        <Style.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter Property="Background" Value="#F5F5F5"/>
                                            </Trigger>
                                        </Style.Triggers>
                                    </Style>
                                </Button.Style>
                            </Button>
                        </Grid>
                    </Border>
                </DataTemplate>
            </ItemsControl.ItemTemplate>
        </ItemsControl>
    </ScrollViewer>
</Page>
